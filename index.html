<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alfa Online Radio isiZulu</title>

  <!-- Open Graph / WhatsApp Preview -->
  <meta property="og:title" content="Alfa Online Radio">
  <meta property="og:description" content="Lalela ukufundwa kweBhayibheli ngesiZulu">
  <meta property="og:image" content="https://alfa-zulu.pages.dev/og-image-v4.png">
  <meta property="og:image:width" content="1280">
  <meta property="og:image:height" content="640">
  <meta property="og:url" content="https://alfa-zulu.pages.dev/">
  <meta property="og:type" content="website">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16.png">

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">

  <!-- LIVE blink animation -->
  <style>
    .audio-status {
      margin-top: 0.6rem;
      font-weight: 700;
      letter-spacing: 0.04em;
    }

    .live {
      color: #ff3b3b;
      animation: blink 1.2s infinite;
    }

    .paused {
      color: #cbd5e1;
    }

    .connecting {
      color: #facc15;
    }

    @keyframes blink {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0.3; }
    }

    button:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  </style>
</head>

<body>
  <div class="app">
    <img src="logo.png" alt="Station Logo" class="logo">

    <p class="tagline">
      <span>Khetha u-â€œDlala â–¶ï¸ Playâ€ ukuze ulalele ukufundwa kweBhayibheli.âš ï¸ğŸ”‡ Ekuqaleni kuba nokuthula cishe imizuzwana engu-10â€“20, ğŸ“¢ bese kulandela isikhangiso (30â€“40s) ngaphambi kokuba kuqale ukufundwa.</span>
    </p>

    <button id="playBtn">
      Dlala â–¶ï¸ Play
    </button>

    <div id="audioStatus" class="audio-status paused">
      â¸ï¸ PAUSED
    </div>

    <div class="links">
      <a
        href="https://chat.whatsapp.com/LFdZxr0VG6S6omDG2KlukL"
        class="btn whatsapp"
        target="_blank"
        rel="noopener"
      >
        <span>Joyina Iqembu labaLaleli</span><br>
        <span>ğŸ‘¥ğŸ’¬ ku-WhatsApp</span>
      </a>

      <a href="https://alfaradio.co.za/" class="btn home">
        ğŸ  Buya ekhasini lekhaya
      </a>
    </div>

    <audio id="radio" preload="none" crossorigin="anonymous">
      <source src="https://stream.zeno.fm/u8opaslsv5fvv" type="audio/mpeg">
    </audio>
  </div>
  <footer>
    Â© 2026 Alfa Online Radio
  </footer>

  <!-- âœ… SINGLE, CLEAN SCRIPT -->
  <script>
    const audio = document.getElementById("radio");
    const playBtn = document.getElementById("playBtn");
    const statusEl = document.getElementById("audioStatus");

    let retryTimer = null;

    function setStatus(type, text) {
      statusEl.className = "audio-status " + type;
      statusEl.textContent = text;
    }

    async function playStream() {
      playBtn.disabled = true;
      setStatus("connecting", "â³ CONNECTINGâ€¦");

      try {
        await audio.play();
      } catch {
        scheduleRetry();
      }
    }

    function pauseStream() {
      audio.pause();
      playBtn.textContent = "Dlala â–¶ï¸ Play";
      setStatus("paused", "â¸ï¸ PAUSED");
    }

    function scheduleRetry() {
      setStatus("connecting", "ğŸ” RETRYINGâ€¦");
      retryTimer = setTimeout(playStream, 3000);
    }

    playBtn.addEventListener("click", () => {
      if (audio.paused) {
        playStream();
      } else {
        pauseStream();
      }
    });

    audio.addEventListener("playing", () => {
      clearTimeout(retryTimer);
      playBtn.disabled = false;
      playBtn.textContent = "Misa kancane â¸ï¸ Pause";
      setStatus("live", "ğŸ”´ LIVE");
    });

    audio.addEventListener("pause", () => {
      if (!audio.ended) {
        playBtn.disabled = false;
        setStatus("paused", "â¸ï¸ PAUSED");
      }
    });

    audio.addEventListener("error", () => {
      scheduleRetry();
    });
  </script>
</body>
</html>
